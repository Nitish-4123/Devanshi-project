<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Copilot Chatbot</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<div class="chat-container">
    <h1>CRM Email Copilot</h1>

    <!-- Chat Form -->
    <form method="POST">
        <label for="query">Ask a question:</label>
        <input type="text" name="query" placeholder="Enter your query..." required>
        <button type="submit">Submit</button>
    </form>

    <!-- Chatbox -->
    <div class="results">
        <h2>Chat Results:</h2>

        {% if user_query %}
            <p><strong>You:</strong> {{ user_query }}</p>
        {% endif %}

        {% if results %}
            <p><strong>Copilot:</strong> Here are the matching emails:</p>
            <table>
                <thead>
                    <tr>
                        <th>Sender</th>
                        <th>Receiver</th>
                        <th>Subject</th>
                        <th>Timestamp</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                {% for email in results %}
                    <tr>
                        <td>{{ email.sender }}</td>
                        <td>{{ email.receiver }}</td>
                        <td>{{ email.subject }}</td>
                        <td>{{ email.timestamp }}</td>
                        <td>{{ email.status }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>No matching emails found.</p>
        {% endif %}
    </div>

</div>

</body>

<footer style="text-align: center; padding: 10px; background-color: #f1f1f1; color: #555; font-size: 14px; border-top: 1px solid #ccc;">
    Signed by <strong>Devanshi Munjal</strong>
</footer>


</html>
